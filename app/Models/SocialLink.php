<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class SocialLink extends Model
{
    protected $fillable = ['profile_id','platform','url','icon_svg','sort_order'];

    public function profile(){
        return $this->belongsTo(Profile::class);
    }

    public function getIconSvgAttribute($value)
    {
        // If manual SVG is provided, use it
        if (!empty($value)) {
            return $value;
        }

        // Otherwise, generate SVG based on platform
        return $this->generateSvgForPlatform($this->platform);
    }

    private function generateSvgForPlatform($platform)
    {
        $platform = strtolower(trim($platform));

        switch ($platform) {
            case 'github':
            case 'git':
                return '<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12.013c0 4.418 2.865 8.166 6.839 9.49.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.651.64.7 1.03 1.595 1.03 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12.013C22 6.477 17.523 2 12 2z" clip-rule="evenodd" /></svg>';

            case 'twitter':
            case 'x':
            case 'twitter/x':
                return '<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>';

            case 'linkedin':
                return '<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M16.338 16.338H13.67V12.16c0-.995-.017-2.277-1.387-2.277-1.39 0-1.601 1.086-1.601 2.206v4.248H8.014v-8.59h2.559v1.174h.037c.356-.675 1.227-1.387 2.526-1.387 2.703 0 3.203 1.778 3.203 4.092v4.711zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.337 8.905H4v-8.59h2.674v8.59zM17.638 2H6.362A4.362 4.362 0 002 6.362v11.276A4.362 4.362 0 006.362 22h11.276A4.362 4.362 0 0022 17.638V6.362A4.362 4.362 0 0017.638 2z" clip-rule="evenodd" /></svg>';

            case 'instagram':
            case 'ig':
                return '<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12.017 0C8.396 0 7.994.014 6.79.067 5.59.12 4.694.298 3.915.588c-.807.294-1.49.688-2.175 1.373C.655 2.646.261 3.329.067 4.136.014 5.34 0 5.742 0 9.363s.014 4.023.067 5.227c.053 1.204.298 2.1.588 2.879.294.807.688 1.49 1.373 2.175.686.686 1.369 1.08 2.175 1.373.78.29 1.676.468 2.88.588C7.994 21.986 8.396 22 12.017 22s4.023-.014 5.227-.067c1.204-.12 2.1-.298 2.879-.588.807-.294 1.49-.688 2.175-1.373.686-.686 1.08-1.369 1.373-2.175.29-.78.468-1.676.588-2.88C23.986 13.39 24 12.988 24 9.367s-.014-4.023-.067-5.227c-.12-1.204-.298-2.1-.588-2.879-.294-.807-.688-1.49-1.373-2.175C21.354.655 20.671.261 19.864.067 18.66.014 18.258 0 14.637 0s-4.023.014-5.227.067C8.206.12 7.31.298 6.531.588c-.807.294-1.49.688-2.175 1.373C3.67.655 2.987.261 2.18.067 1.976.014 1.574 0 .953.067.014.12 0 .522 0 1.726v.001c0 4.62.014 5.022.067 6.226.053 1.204.298 2.1.588 2.879.294.807.688 1.49 1.373 2.175.686.686 1.369 1.08 2.175 1.373.78.29 1.676.468 2.88.588C7.994 15.014 8.396 15 12.017 15s4.023-.986 5.227-1.14c1.204-.12 2.1-.298 2.879-.588.807-.294 1.49-.688 2.175-1.373.686-.686 1.08-1.369 1.373-2.175.29-.78.468-1.676.588-2.88C23.986 5.61 24 5.208 24 1.587s-.014-4.023-.067-5.227c-.12-1.204-.298-2.1-.588-2.879-.294-.807-.688-1.49-1.373-2.175C21.354 1.345 20.671.951 19.864.667 18.66.518 18.258.333 14.637.333s-4.023.185-5.227.334C8.206.787 7.31.965 6.531 1.255c-.807.294-1.49.688-2.175 1.373C3.67 3.313 2.987 3.707 2.18 4c-.816.294-1.504.688-2.19 1.374C-.686 6.06-1.08 6.743-1.373 7.55c-.29.78-.468 1.676-.588 2.88C-2.014 11.654-2-12.056-2 9.637s.014 4.023.067 5.227c.12 1.204.298 2.1.588 2.879.294.807.688 1.49 1.373 2.175.686.686 1.369 1.08 2.175 1.373.78.29 1.676.468 2.88.588C7.994 22.986 8.396 23 12.017 23s4.023-.014 5.227-.067c1.204-.12 2.1-.298 2.879-.588.807-.294 1.49-.688 2.175-1.373.686-.686 1.08-1.369 1.373-2.175.29-.78.468-1.676.588-2.88C25.986 13.39 26 12.988 26 9.367s-.014-4.023-.067-5.227c-.12-1.204-.298-2.1-.588-2.879-.294-.807-.688-1.49-1.373-2.175C23.354.655 22.671.261 21.864.067 20.66.014 20.258 0 16.637 0zM12.017 5.84c-3.27 0-5.92 2.65-5.92 5.92s2.65 5.92 5.92 5.92 5.92-2.65 5.92-5.92-2.65-5.92-5.92-5.92zm0 9.75c-2.114 0-3.83-1.716-3.83-3.83s1.716-3.83 3.83-3.83 3.83 1.716 3.83 3.83-1.716 3.83-3.83 3.83zm5.85-11.01c-.81 0-1.47-.66-1.47-1.47s.66-1.47 1.47-1.47 1.47.66 1.47 1.47-.66 1.47-1.47 1.47z" clip-rule="evenodd" /></svg>';

            case 'facebook':
            case 'fb':
                return '<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>';

            case 'youtube':
            case 'yt':
                return '<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>';

            case 'dribbble':
                return '<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12 0C5.374 0 0 5.373 0 12s5.374 12 12 12 12-5.373 12-12S18.626 0 12 0zm5.568 8.16c-.841.101-1.822.37-2.971.706C16.02 7.908 16.628 6.927 17.26 6c.63.927 1.238 1.908 1.709 2.866-.247.15-.504.295-.752.434-.28-.174-.564-.35-.851-.47zm-1.44 2.252c.613-.792 1.125-1.676 1.542-2.634-.371-.036-.742-.07-1.11-.101-.255.576-.52 1.138-.826 1.675-.7-.205-1.43-.404-2.189-.6-.174.503-.346 1.01-.52 1.514 1.028.228 2.02.478 2.944.728.11-.403.22-.808.33-1.212zm-2.902.828c.204-.514.403-1.03.6-1.545-.76.196-1.496.395-2.202.6-.222.51-.44 1.02-.652 1.526.74.18 1.47.36 2.184.54.086-.406.17-.812.26-1.216zm-.996 2.096c.534-.138 1.058-.276 1.57-.414-.31.854-.63 1.696-.95 2.527-.372-.102-.74-.206-1.103-.312.23-.735.46-1.466.69-2.194.21.043.42.086.63.129zm-1.028.826c-.24.73-.48 1.46-.708 2.19-.35.094-.7.186-1.044.274.32-.83.64-1.672.95-2.526-.51.138-1.03.276-1.56.414.22-.71.44-1.416.66-2.118.24-.05.48-.1.72-.15zm-1.276.688c-.39.1-.78.2-1.166.294.24-.736.48-1.47.708-2.202-.49.124-.98.248-1.46.372.3-.816.6-1.62.888-2.414-.67.186-1.33.372-1.98.558.23-.73.46-1.45.684-2.166-.45.104-.894.208-1.33.312.32-.83.64-1.67.95-2.508-.51.138-1.02.276-1.54.414.22-.71.44-1.41.66-2.11.22-.044.44-.088.66-.132-.19.66-.38 1.32-.564 1.974-.24-.05-.48-.1-.72-.15.24-.73.48-1.46.708-2.19.35.094.7.186 1.044.274-.32.83-.64 1.67-.95 2.52.51-.138 1.02-.276 1.54-.414-.22.71-.44 1.41-.66 2.11-.22.044-.44.088-.66.132.19-.66.38-1.32.564-1.974.24.05.48.1.72.15-.24.73-.48 1.46-.708 2.19-.35-.094-.7-.186-1.044-.274.32-.83.64-1.67.95-2.52.49-.124.98-.248 1.46-.372-.3.81-.6 1.61-.888 2.41.67-.186 1.33-.372 1.98-.558-.23.73-.46 1.45-.684 2.16.45-.104.894-.208 1.33-.312-.32.83-.64 1.67-.95 2.51.51-.138 1.02-.276 1.54-.414-.22.71-.44 1.41-.66 2.11-.22.044-.44.088-.66.132.19-.66.38-1.32.564-1.974.24.05.48.1.72.15-.24.73-.48 1.46-.708 2.19-.35-.094-.7-.186-1.044-.274.32-.83.64-1.67.95-2.52.49-.124.98-.248 1.46-.372-.3.81-.6 1.61-.888 2.41.67-.186 1.33-.372 1.98-.558-.23.73-.46 1.45-.684 2.16.45-.104.894-.208 1.33-.312-.32.83-.64 1.67-.95 2.51.51-.138 1.02-.276 1.54-.414-.22.71-.44 1.41-.66 2.11-.22.044-.44.088-.66.132.19-.66.38-1.32.564-1.974.24.05.48.1.72.15-.24.73-.48 1.46-.708 2.19-.35-.094-.7-.186-1.044-.274.32-.83.64-1.67.95-2.52.49-.124.98-.248 1.46-.372-.3.81-.6 1.61-.888 2.41.67-.186 1.33-.372 1.98-.558-.23.73-.46 1.45-.684 2.16.45-.104.894-.208 1.33-.312-.32.83-.64 1.67-.95 2.51.51-.138 1.02-.276 1.54-.414-.22.71-.44 1.41-.66 2.11-.22.044-.44.088-.66.132.19-.66.38-1.32.564-1.974.24.05.48.1.72.15-.24.73-.48 1.46-.708 2.19-.35-.094-.7-.186-1.044-.274.32-.83.64-1.67.95-2.52.49-.124.98-.248 1.46-.372-.3.81-.6 1.61-.888 2.41.67-.186 1.33-.372 1.98-.558-.23.73-.46 1.45-.684 2.16.45-.104.894-.208 1.33-.312-.32.83-.64 1.67-.95 2.51.51-.138 1.02-.276 1.54-.414-.22.71-.44 1.41-.66 2.11-.22.044-.44.088-.66.132.19-.66.38-1.32.564-1.974.24.05.48.1.72.15z"/></svg>';

            case 'behance':
                return '<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M22 7h-7v10h7v3H9v-6H7V7H1V4h21v3zM7 7h2v6H7V7zm7 0h2v10h-2V7z"/></svg>';

            case 'medium':
                return '<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M13.54 12a6.8 6.8 0 01-6.77 6.82A6.8 6.8 0 010 12a6.8 6.8 0 016.77-6.82A6.8 6.8 0 0113.54 12zM20.96 12c0 3.54-1.51 6.42-3.38 6.42-1.87 0-3.39-2.88-3.39-6.42s1.52-6.42 3.39-6.42 3.38 2.88 3.38 6.42M24 12c0 3.17-.53 5.75-1.19 5.75-.66 0-1.19-2.58-1.19-5.75s.53-5.75 1.19-5.75C23.47 6.25 24 8.83 24 12z"/></svg>';

            case 'dev.to':
            case 'devto':
                return '<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M7.42 10.129c.07 0 .07 0 .14-.07l5.74-5.74c.07-.07.07-.07.14-.14a.97.97 0 0 1 1.38 0c.07.07.07.07.14.14l5.74 5.74c.07.07.07.07.14.14.07.07.07.07 0 .14a.97.97 0 0 1-1.38 0l-5.6-5.6-5.6 5.6a.97.97 0 0 1-1.38 0c-.07-.07-.07-.07 0-.14zM7.42 13.871c.07 0 .07 0 .14.07l5.74 5.74c.07.07.07.07.14.14a.97.97 0 0 1 0 1.38c-.07.07-.07.07-.14.14l-5.74 5.74c-.07.07-.07.07-.14.14a.97.97 0 0 1-1.38 0c-.07-.07-.07-.07-.14-.14l-5.74-5.74c-.07-.07-.07-.07-.14-.14a.97.97 0 0 1 0-1.38c.07-.07.07-.07.14-.14l5.74-5.74c.07-.07.07-.07.14-.14a.97.97 0 0 1 0-1.38c-.07-.07-.07-.07 0-.14zm10.12 0c.07 0 .07 0 .14.07l5.74 5.74c.07.07.07.07.14.14a.97.97 0 0 1 0 1.38c-.07.07-.07.07-.14.14l-5.74 5.74c-.07.07-.07.07-.14.14a.97.97 0 0 1-1.38 0c-.07-.07-.07-.07-.14-.14l-5.74-5.74c-.07-.07-.07-.07-.14-.14a.97.97 0 0 1 0-1.38c.07-.07.07-.07.14-.14l5.74-5.74c.07-.07.07-.07.14-.14a.97.97 0 0 1 1.38 0c.07.07.07.07 0 .14z"/></svg>';

            default:
                // Default link icon for unknown platforms
                return '<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg>';
        }
    }
}